/**
 * @file
 * @author
 * @date
 * @brief
 * @see
 */

/*****************************************************************************
 * Header files
 *****************************************************************************/
#include "stdint.h"
#include "stdarg.h"
#include "stddef.h"
#include "stdio.h"
#include "hal_timer.h"

/*****************************************************************************
 * Macro definitions
 *****************************************************************************/
/* ---------------------------------------------------------------------------
   - 
 --------------------------------------------------------------------------- */
/*****************************************************************************
 * Type definitions
 *****************************************************************************/
/* ---------------------------------------------------------------------------
   - 
 --------------------------------------------------------------------------- */
/*****************************************************************************
 * Enumerations
 *****************************************************************************/
/* ---------------------------------------------------------------------------
   - 
 --------------------------------------------------------------------------- */
/*****************************************************************************
 * Static variables
 *****************************************************************************/
/* ---------------------------------------------------------------------------
   - 
 --------------------------------------------------------------------------- */
/*****************************************************************************
 * Extern variables
 *****************************************************************************/
/* ---------------------------------------------------------------------------
   - 
 --------------------------------------------------------------------------- */
/*****************************************************************************
 * Global variables
 *****************************************************************************/
/* ---------------------------------------------------------------------------
   - 
 --------------------------------------------------------------------------- */
/*****************************************************************************
 * Function definitions
 *****************************************************************************/
void delay(uint32_t ms)
{
    uint32_t goal = HAL_timer_get_1ms_counter() + ms;

    while (goal != HAL_timer_get_1ms_counter());
}

void *memset(void *ptr, int what, size_t len)
{
    uint8_t *byte = (uint8_t *)ptr;

    while (len--) {
        *byte++ = (uint8_t)what;
    }

    return NULL;
}

void memclr(void *dst, uint32_t cnt)
{
    uint8_t *byte = (uint8_t *)dst;

    while (cnt--) {
        *byte++ = 0;
    }
}